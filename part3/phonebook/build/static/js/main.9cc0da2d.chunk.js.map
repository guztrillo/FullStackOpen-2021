{"version":3,"sources":["Filter.js","Form.js","Notification.js","Person.js","Persons.js","services/phonebook.js","App.js","index.js"],"names":["Filter","filter","handleFilter","type","value","onChange","Form","newName","newNumber","handleNewName","handleNewNumber","handleNewPerson","onSubmit","required","Notification","message","colorBase","success","notificationStyle","fontSize","backgroundColor","border","color","textAlign","margin","style","Person","name","number","person","handleDelete","onClick","Persons","persons","map","id","baseUrl","phonebook","getAll","axios","get","then","resp","data","createItem","newElement","post","updateItem","put","deleteItem","delete","App","useState","setPersons","setNewName","setNewNumber","setFilter","setMessage","setSuccess","regex","RegExp","useEffect","initialData","catch","err","console","log","handleMessage","setTimeout","handleUpdate","phone","find","changeNumber","updatePerson","personsToShow","length","match","e","target","personIndex","preventDefault","replace","some","index","test","window","confirm","newPerson","newContact","concat","response","elem","deleted","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9cc0da2d.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nexport const Filter = ({filter, handleFilter}) => {\r\n     return (\r\n          <div>\r\n               filter shown with <input type=\"text\" value={filter} onChange={handleFilter} />\r\n          </div>\r\n     )\r\n}\r\n","import React from 'react'\r\n\r\nexport const Form = ({newName, newNumber, handleNewName, handleNewNumber, handleNewPerson}) => {\r\n     return (\r\n          <form onSubmit={handleNewPerson}>\r\n               <div>\r\n                    name: <input type=\"text\" value={newName} onChange={handleNewName} required />\r\n               </div>\r\n               <div>\r\n                    number: <input type=\"number\" value={newNumber} onChange={handleNewNumber} required/>\r\n               </div>\r\n               <div>\r\n                    <button type=\"submit\">add</button>\r\n               </div>\r\n          </form>\r\n     )\r\n}\r\n","import React from 'react'\r\n\r\nexport const Notification = ({ message, success }) => {\r\n     const colorBase = success ? '#57C656' : '#ED5245';\r\n\r\n     const notificationStyle = {\r\n          fontSize: '1.5rem',\r\n          backgroundColor: '#E9E9E9',\r\n          border: `5px solid ${colorBase}`,\r\n          color: `${colorBase}`,\r\n          textAlign: 'center',\r\n          margin: '1rem auto'\r\n     }\r\n\r\n     return (\r\n          <>\r\n               {\r\n                    message\r\n                    ?\r\n                    <div style={notificationStyle}>\r\n                         {message}\r\n                    </div>\r\n                    : null\r\n               }\r\n          </>\r\n\r\n     )\r\n}\r\n","import React from 'react'\r\n\r\nexport const Person = ({ name, number, person, handleDelete }) => {\r\n     return (\r\n          <div>\r\n               <span>\r\n                    {name} {number}\r\n               </span>\r\n               {\r\n                    person && \r\n                    <button onClick={() => handleDelete(person)}>\r\n                    delete\r\n                    </button>\r\n               }\r\n          </div>\r\n     )\r\n}\r\n","import React from 'react'\r\nimport { Person } from './Person'\r\n\r\nexport const Persons = ({ persons, handleDelete }) => {\r\n     return (\r\n          <div>\r\n               {\r\n                    persons.map(person => <Person \r\n                                             key={person.name+'-'+person.id} \r\n                                             name={person.name} \r\n                                             number={person.number} \r\n                                             person={person}\r\n                                             handleDelete={handleDelete}\r\n                                        />)\r\n               }\r\n          </div>\r\n     )\r\n}\r\n","import axios from 'axios';\r\nconst baseUrl = '/api/persons';\r\n\r\nconst getAll = () => {\r\n     const request = axios.get(baseUrl);\r\n     return request.then(resp => resp.data);\r\n}\r\n\r\nconst createItem = (newElement) => {\r\n     const request = axios.post(baseUrl, newElement);\r\n     return request.then(resp => resp.data );\r\n}\r\n\r\nconst updateItem = (id, newElement) => {\r\n     const request = axios.put(`${baseUrl}/${id}`, newElement);\r\n     return request.then(resp => resp.data)\r\n}\r\n\r\nconst deleteItem = (id) => {\r\n     const request = axios.delete(`${baseUrl}/${id}`)\r\n     return request.then(resp => resp.data);\r\n}\r\n\r\nconst phonebook = {\r\n     getAll,\r\n     createItem,\r\n     updateItem,\r\n     deleteItem\r\n}\r\n\r\nexport default phonebook","import React, { useEffect, useState } from 'react'\nimport { Filter } from './Filter';\nimport { Form } from './Form';\nimport { Notification } from './Notification';\nimport { Persons } from './Persons';\nimport phonebook from './services/phonebook';\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setFilter] = useState('');\n  const [message, setMessage] = useState(null)\n  const [success, setSuccess] = useState(false)\n  const regex = new RegExp(filter, 'ig');\n\n  useEffect(() => {\n    phonebook.getAll()\n      .then(initialData => setPersons(initialData))\n      .catch(err => console.log(err))\n  }, [])\n\n  const handleNewName = (e) => {\n    setNewName(e.target.value)\n  }\n\n  const handleNewNumber = (e) => {\n    setNewNumber(e.target.value)\n  }\n\n  const handleFilter = (e) => {\n    setFilter(e.target.value)\n  }\n\n  const handleMessage = (message, type) => {\n    setMessage(message)\n    setSuccess(type)\n    setTimeout(() => {\n      setMessage(null)\n    }, 3000);\n  }\n\n  const handleNewPerson = (e) => {\n    e.preventDefault();\n    let personIndex;\n    const regex = new RegExp('^' + newName.replace(/\\s+/g, '') + '$', 'i');\n    const somebody = persons.some((person, index) => {\n      if (regex.test(person.name.replace(/\\s+/g, ''))) {\n        personIndex = index;\n        return true;\n      }\n      return false;\n    })\n    if (somebody) {\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n        handleUpdate(persons[personIndex].id)\n      }\n    } else {\n      const newPerson = {\n        name: newName,\n        number: newNumber\n      }\n      phonebook.createItem(newPerson)\n        .then(newContact => {\n          setPersons(persons.concat(newContact));\n          handleMessage(`Added ${newContact.name}`, true)\n        })\n        .catch(err => handleMessage(err.response.data, false))\n    }\n    setNewName('');\n    setNewNumber('')\n  }\n\n  const handleUpdate = (id) => {\n    const phone = persons.find(person => person.id === id);\n    const changeNumber = { ...phone, number: newNumber };\n\n    phonebook.updateItem(id, changeNumber)\n      .then(updatePerson => {\n        setPersons(persons.map(person => person.id !== id ? person : updatePerson));\n        handleMessage(`Updated ${updatePerson.name}`, true)\n      })\n      .catch(err => {\n        handleMessage(`Information of ${phone.name} has already been removed from server`, false)\n        setPersons(persons.filter(person => person.id !== id))\n      })\n  }\n\n  const handleDelete = (elem) => {\n    if (window.confirm(`Delete ${elem.name}?`)) {\n      phonebook.deleteItem(elem.id)\n        .then(deleted => {\n          setPersons(persons.filter(person => person.id !== elem.id))\n          handleMessage(`Deleted ${elem.name}`, true)\n        })\n    }\n  }\n\n  const personsToShow = filter.length < 1\n    ? persons\n    : persons.filter(person => person.name.match(regex))\n    \n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} success={success} />\n      <Filter filter={filter} handleFilter={handleFilter} />\n      <h3>add a New</h3>\n      <Form newName={newName} handleNewName={handleNewName} newNumber={newNumber} handleNewNumber={handleNewNumber} handleNewPerson={handleNewPerson} />\n      <h3>Numbers</h3>\n      <Persons persons={personsToShow} handleDelete={handleDelete} />\n    </div>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}